(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))l(e);new MutationObserver(e=>{for(const s of e)if(s.type==="childList")for(const h of s.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&l(h)}).observe(document,{childList:!0,subtree:!0});function t(e){const s={};return e.integrity&&(s.integrity=e.integrity),e.referrerPolicy&&(s.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?s.credentials="include":e.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function l(e){if(e.ep)return;e.ep=!0;const s=t(e);fetch(e.href,s)}})();const i=document.getElementById("game"),c=i.getContext("2d"),m=document.getElementById("hud");i.width=400;i.height=400;let f=0;class y{constructor(){this.x=0,this.y=i.height/2,this.speed=40,this.health=3}update(o){this.x+=this.speed*o}draw(){c.font="24px sans-serif",c.fillText("👾",this.x,this.y)}}class g{constructor(o,t){this.x=o,this.y=t,this.range=80,this.cooldown=0}update(o,t){if(this.cooldown-=o,this.cooldown<=0){const l=t.find(e=>Math.hypot(e.x-this.x,e.y-this.y)<this.range);l&&(l.health-=1,this.cooldown=.5)}}draw(){c.font="24px sans-serif",c.fillText("🏰",this.x-12,this.y)}}const r=[],a=[];let d=0;i.addEventListener("click",n=>{f>=5&&(a.push(new g(n.offsetX,n.offsetY)),f-=5)});let u=0;function p(n){const o=(n-u)/1e3;u=n,d-=o,d<=0&&(r.push(new y),d=2),c.clearRect(0,0,i.width,i.height),c.fillStyle="#ccc",c.fillRect(0,i.height/2+12,i.width,20);for(const t of r)t.update(o);for(const t of a)t.update(o,r);r.filter(t=>t.health<=0).forEach(()=>{f+=1});for(let t=r.length-1;t>=0;t--)(r[t].health<=0||r[t].x>i.width)&&r.splice(t,1);for(const t of r)t.draw();for(const t of a)t.draw();m.textContent=`💰${f}`,requestAnimationFrame(p)}requestAnimationFrame(p);
